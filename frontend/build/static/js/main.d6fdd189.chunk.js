(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[10],{142:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var r=n(4),c=n(0),a=n.n(c),u=n(84),o=n.n(u),i=(n(142),n(70)),s=n(83),f=n(216),p=n(214),l=n(213),b=Object(l.a)({xs:"300px",sm:"320px",md:"768px",lg:"960px",xl:"1200px","1778px":"1778px"}),O=Object(p.a)({fonts:{body:"Lato, sans-serif",brand:"GrinchedRegular, sans-serif "},colors:{primary:{50:"#add6ff",100:"#85c2ff",200:"#5cadff",300:"#47a3ff",400:"#3399ff",500:"#1e90ff",600:"#0a85ff",700:"#007af5",800:"#0070e0",900:"#0066cc"},secondary:{50:"#fff",100:"#ecf1fe",200:"#d8e3fd",300:"#c5d5fc",400:"#adc4fb",500:"#9eb9fa",600:"#8aacf9",700:"#779ef9",800:"#6390f8",900:"#5082f7"},tertiary:"#e3f0ff"},breakpoints:b,config:{initialColorMode:"light",useSystemColorMode:!1}}),j=n(85),d=n(90),h=n(87),v=n(88),x=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(19)]).then(n.bind(null,501))})),E=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(9),n.e(13)]).then(n.bind(null,520))})),_=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(17)]).then(n.bind(null,505))})),S=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(8),n.e(16)]).then(n.bind(null,516))})),C=a.a.lazy((function(){return Promise.all([n.e(22),n.e(36)]).then(n.bind(null,523))})),y=a.a.lazy((function(){return n.e(35).then(n.bind(null,507))})),I=function(){var e=Object(s.a)(),t=e.isOpen,n=e.onClose;return Object(r.jsx)(i.a,{children:Object(r.jsx)(h.b,{children:Object(r.jsx)(d.b,{children:Object(r.jsx)(f.a,{theme:O,children:Object(r.jsx)(j.b,{children:Object(r.jsxs)(c.Suspense,{fallback:Object(r.jsx)(v.default,{}),children:[Object(r.jsx)(x,{isOpen:t,onClose:n}),Object(r.jsx)(E,{}),Object(r.jsx)(_,{}),Object(r.jsx)(S,{}),Object(r.jsx)(C,{}),Object(r.jsx)(y,{})]})})})})})})},G=n(215),g=n(40),m=Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsxs)(g.b,{children:[Object(r.jsx)(G.a,{initialColorMode:"light"}),Object(r.jsx)(I,{})]})});o.a.render(m,document.getElementById("root"))},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(4),c=n(3),a=n(13),u=n.n(a),o=n(22),i=n(7),s=n(0),f=n.n(s),p=n(24),l=n.n(p),b=n(12),O=n(6),j={user:null,userInit:!1,userError:null,logoutInit:!1,logoutError:null,userGroups:null,userGroupsInit:!1,userGroupsError:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.h:return Object(c.a)(Object(c.a)({},e),{},{logoutInit:!0,logoutError:null});case O.i:return Object(c.a)(Object(c.a)({},e),{},{logoutInit:!1,user:null});case O.g:return Object(c.a)(Object(c.a)({},e),{},{logoutInit:!1,logoutError:t.error});case O.l:var n=Object(c.a)({},e.user),r=Object(b.a)(e.user.requestsSent);return r.push(t.friend),n.requestsSent=r,Object(c.a)(Object(c.a)({},e),{},{user:n});case O.b:return Object(c.a)(Object(c.a)({},e),{},{userGroupsInit:!0,userGroupsError:null});case O.c:return Object(c.a)(Object(c.a)({},e),{},{userGroupsInit:!1,userGroups:t.groups});case O.a:return Object(c.a)(Object(c.a)({},e),{},{userGroupsInit:!1,userGroupsError:t.error});case O.o:var a=[];return e.userGroups&&(a=Object(b.a)(e.userGroups)),a.push(t.group),Object(c.a)(Object(c.a)({},e),{},{userGroups:a});case O.m:return Object(c.a)(Object(c.a)({},e),{},{userInit:!0});case O.n:return Object(c.a)(Object(c.a)({},e),{},{user:t.user,userInit:!1});case O.k:return Object(c.a)(Object(c.a)({},e),{},{userInit:!1,userError:t.error});default:return e}},h=f.a.createContext(j);t.b=function(e){var t=e.children,n=f.a.useReducer(d,j),a=Object(i.a)(n,2),p=a[0],b=a[1],v=Object(s.useCallback)(Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:O.m}),e.prev=1,e.next=4,l()({url:"/api/v1/users/checkAuth",method:"GET"});case 4:t=e.sent,b({type:O.n,user:t.data.user}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b({type:O.k,error:null});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[]);f.a.useEffect((function(){v()}),[v]);var x={logoutUser:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:O.h}),e.prev=1,e.next=4,l()({url:"/api/v1/users/logout",method:"GET"});case 4:b({type:O.i}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),b({type:O.g,error:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),updateUserRequestsSent:function(e){return b({type:O.l,friend:e})},getUserGroups:function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:O.b}),e.prev=1,e.next=4,l()({url:"/api/v1/users/groups",method:"GET"});case 4:t=e.sent,b({type:O.c,groups:t.data.groups}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b({type:O.a,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),userCreateNewGroup:function(e){b({type:O.o,group:e})},updateUser:function(e){b({type:O.n,user:e})},checkUserExists:v};return Object(r.jsx)(h.Provider,{value:Object(c.a)(Object(c.a)({},p),x),children:t})}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(4);var r=n(0),c=n(131),a=Object(c.io)("/"),u=Object(r.createContext)(a)},6:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"l",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"o",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"j",(function(){return O})),n.d(t,"m",(function(){return j})),n.d(t,"n",(function(){return d})),n.d(t,"k",(function(){return h}));var r="LOGOUT_USER_INIT",c="LOGOUT_USER_SUCCESS",a="LOGOUT_USER_FAILED",u="UPDATE_USER_FRIEND_SENT_REQUESTS",o="GET_USER_GROUPS_INIT",i="GET_USER_GROUPS_SUCCESS",s="GET_USER_GROUPS_FAILED",f="USER_CREATE_NEW_GROUP",p="GET_USER_NOTIFICATIONS_INIT",l="GET_USER_NOTIFICATIONS_SUCCESS",b="GET_USER_NOTIFICATIONS_FAILED",O="REMOVE_NOTIFICATION",j="UPDATE_USER_INIT",d="UPDATE_USER_SUCCESS",h="UPDATE_USER_FAILED"},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),c=n(3),a=n(83),u=n(0),o=n.n(u).a.createContext(void 0);t.b=function(e){var t=e.children,n=Object(a.a)(),u=n.isOpen,i=n.onOpen,s=n.onClose,f=Object(a.a)(),p=f.isOpen,l=f.onOpen,b=f.onClose,O=Object(a.a)(),j={isCreatePostOpen:u,onCreatePostOpen:i,onCreatePostClose:s,isCreateGroupOpen:p,onCreateGroupOpen:l,onCreateGroupClose:b,isNotificationsOpen:O.isOpen,onNotificationsOpen:O.onOpen,onNotificationsClose:O.onClose};return Object(r.jsx)(o.Provider,{value:Object(c.a)({},j),children:t})}},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(4),c=n(3),a=n(13),u=n.n(a),o=n(12),i=n(22),s=n(7),f=n(0),p=n.n(f),l=n(54),b=n(6),O={notifications:[],notificationsInit:!1,notificationsError:null},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.e:return Object(c.a)(Object(c.a)({},e),{},{notificationsInit:!0,notificationsError:null});case b.f:return Object(c.a)(Object(c.a)({},e),{},{notificationsInit:!1,notifications:t.notifications});case b.d:return Object(c.a)(Object(c.a)({},e),{},{notificationsInit:!1,notificationsError:t.error});case b.j:var n=[];return e.notifications&&e.notifications.length>0&&(n=Object(o.a)(e.notifications)),n=n.filter((function(e){return e._id!==t.notification})),Object(c.a)(Object(c.a)({},e),{},{notifications:n});default:return e}},d=n(24),h=n.n(d),v=n(40),x=p.a.createContext(O);t.b=function(e){var t=e.children,n=Object(f.useContext)(l.a),a=Object(f.useContext)(v.a).user,d=p.a.useReducer(j,O),E=Object(s.a)(d,2),_=E[0],S=E[1];Object(f.useEffect)((function(){a&&n&&n.on("notifications-".concat(a._id),function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S({type:b.f,notifications:[].concat(Object(o.a)(_.notifications),[t])});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n,a,_]),Object(f.useEffect)((function(){(function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S({type:b.e}),e.prev=1,e.next=4,h()({method:"GET",url:"/api/v1/notifications"});case 4:t=e.sent,S({type:b.f,notifications:t.data.notifications}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),S({type:b.d,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var C=function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()({method:"PATCH",url:"/api/v1/notifications/markAsRead"});case 3:n=e.sent,S({type:b.f,notifications:n.data.notifications}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(x.Provider,{value:Object(c.a)(Object(c.a)({},_),{},{removeNotification:function(e){return S({type:b.j,notification:e})},readAllNotifications:C}),children:t})})}},88:function(e,t,n){"use strict";n.r(t);var r=n(4),c=n(197),a=n(201);n(0);t.default=function(){return Object(r.jsx)(c.a,{d:"flex",alignItems:"center",justifyContent:"center",h:"90vh",children:Object(r.jsx)(a.a,{boxSize:"100px",thickness:"6px",speed:"0.65s",emptyColor:"gray.200",color:"primary.600"})})}},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(4),c=n(13),a=n.n(c),u=n(22),o=n(12),i=n(7),s=n(0),f=n.n(s),p=n(54),l=n(40),b=n(24),O=n.n(b),j=n(11),d=f.a.createContext({});t.b=function(e){var t=e.children,n=Object(s.useContext)(p.a),c=Object(s.useContext)(l.a),f=c.user,b=c.getUserGroups,h=Object(s.useState)(""),v=Object(i.a)(h,2),x=v[0],E=v[1],_=Object(s.useState)([]),S=Object(i.a)(_,2),C=S[0],y=S[1],I=Object(s.useState)([]),G=Object(i.a)(I,2),g=G[0],m=G[1],T=Object(s.useState)(),U=Object(i.a)(T,2),R=U[0],k=U[1],P=Object(s.useCallback)((function(e){var t=Object(o.a)(C).filter((function(t){return t._id!==e}));y(t)}),[C]),w=Object(j.h)().pathname;Object(s.useEffect)((function(){(w.startsWith("/app")||w.startsWith("/profile"))&&function(){var e=Object(u.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({method:"GET",url:"/api/v1/groups/new"});case 3:t=e.sent,y(t.data.groups),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[w]),Object(s.useEffect)((function(){(w.startsWith("/app")||w.startsWith("/profile"))&&function(){var e=Object(u.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O()({method:"GET",url:"/api/v1/users/find-friends"});case 3:t=e.sent,m(t.data.users),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[w]),Object(s.useEffect)((function(){f&&R&&n.emit("".concat(R),{userId:f._id,name:x,userFriends:f.friends})}),[x,f,n,R]),Object(s.useEffect)((function(){f&&(n.on("getGroups-".concat(f._id),(function(e){e&&y(e)})),n.on("getPeople-".concat(f._id),(function(e){e&&m(e)})))}),[n,f]),Object(s.useEffect)((function(){f&&n.on("notifications-".concat(f._id),(function(e){var t=Object(o.a)(g);if("friendRequestAccepted"===e.type){var n=t.filter((function(t){return t._id!==e.sender._id}));m(n)}"joinGroupRequestAccepted"===e.type&&(P(e.group._id),b())}))}),[n,f,g,P,b]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(d.Provider,{value:{searchText:x,searchGroups:C,searchPeople:g,handleSearchTextChange:function(e,t){E(e),k(t)},updateGroup:P},children:t})})}}},[[194,11,12]]]);
//# sourceMappingURL=main.d6fdd189.chunk.js.map