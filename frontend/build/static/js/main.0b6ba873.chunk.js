(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[10],{145:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n(0),a=n.n(c),u=n(85),o=n.n(u),i=(n(145),n(5)),s=n(71),f=n(84),p=n(222),l=n(220),b=n(218),d=n(217),O=n(216),j=Object(O.a)({xs:"300px",sm:"320px",md:"768px",lg:"960px",xl:"1200px","1778px":"1778px"}),h=Object(d.a)({fonts:{body:"Lato, sans-serif",brand:"GrinchedRegular, sans-serif "},colors:{primary:{50:"#add6ff",100:"#85c2ff",200:"#5cadff",300:"#47a3ff",400:"#3399ff",500:"#1e90ff",600:"#0a85ff",700:"#007af5",800:"#0070e0",900:"#0066cc"},secondary:{50:"#fff",100:"#ecf1fe",200:"#d8e3fd",300:"#c5d5fc",400:"#adc4fb",500:"#9eb9fa",600:"#8aacf9",700:"#779ef9",800:"#6390f8",900:"#5082f7"},tertiary:"#e3f0ff"},breakpoints:j,config:{initialColorMode:"light",useSystemColorMode:!1}}),v=n(86),x=n(91),E=n(88),_=n(89),S=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(19)]).then(n.bind(null,503))})),g=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(9),n.e(14)]).then(n.bind(null,521))})),G=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(17)]).then(n.bind(null,507))})),y=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(8),n.e(16)]).then(n.bind(null,517))})),C=a.a.lazy((function(){return Promise.all([n.e(22),n.e(35)]).then(n.bind(null,524))})),I=a.a.lazy((function(){return n.e(39).then(n.bind(null,509))})),m=function(){var e=Object(f.a)(),t=e.isOpen,n=e.onClose,a=Object(p.a)("(min-width: 320px)"),u=Object(i.a)(a,1)[0];return Object(r.jsx)(r.Fragment,{children:u?Object(r.jsx)(s.a,{children:Object(r.jsx)(E.b,{children:Object(r.jsx)(x.b,{children:Object(r.jsx)(l.a,{theme:h,children:Object(r.jsx)(v.b,{children:Object(r.jsxs)(c.Suspense,{fallback:Object(r.jsx)(_.default,{}),children:[Object(r.jsx)(S,{isOpen:t,onClose:n}),Object(r.jsx)(g,{}),Object(r.jsx)(G,{}),Object(r.jsx)(y,{}),Object(r.jsx)(C,{}),Object(r.jsx)(I,{})]})})})})})}):Object(r.jsx)(b.a,{mt:15,colorScheme:"primary",textAlign:"center",children:"Use a Larger screen to view this webpage"})})},U=n(219),T=n(40),R=Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsxs)(T.b,{children:[Object(r.jsx)(U.a,{initialColorMode:"light"}),Object(r.jsx)(m,{})]})});o.a.render(R,document.getElementById("root"))},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(3),c=n(4),a=n(13),u=n.n(a),o=n(23),i=n(5),s=n(0),f=n.n(s),p=n(25),l=n.n(p),b=n(11),d=n(6),O={user:null,userInit:!1,userError:null,logoutInit:!1,logoutError:null,userGroups:null,userGroupsInit:!1,userGroupsError:null},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.h:return Object(c.a)(Object(c.a)({},e),{},{logoutInit:!0,logoutError:null});case d.i:return Object(c.a)(Object(c.a)({},e),{},{logoutInit:!1,user:null});case d.g:return Object(c.a)(Object(c.a)({},e),{},{logoutInit:!1,logoutError:t.error});case d.l:var n=Object(c.a)({},e.user),r=Object(b.a)(e.user.requestsSent);return r.push(t.friend),n.requestsSent=r,Object(c.a)(Object(c.a)({},e),{},{user:n});case d.b:return Object(c.a)(Object(c.a)({},e),{},{userGroupsInit:!0,userGroupsError:null});case d.c:return Object(c.a)(Object(c.a)({},e),{},{userGroupsInit:!1,userGroups:t.groups});case d.a:return Object(c.a)(Object(c.a)({},e),{},{userGroupsInit:!1,userGroupsError:t.error});case d.o:var a=[];return e.userGroups&&(a=Object(b.a)(e.userGroups)),a.push(t.group),Object(c.a)(Object(c.a)({},e),{},{userGroups:a});case d.p:var u=[];e.userGroups&&(u=Object(b.a)(e.userGroups));var o=u.findIndex((function(e){return e._id===t.group._id}));return u[o]=t.group,Object(c.a)(Object(c.a)({},e),{},{userGroups:u});case d.m:return Object(c.a)(Object(c.a)({},e),{},{userInit:!0});case d.n:return Object(c.a)(Object(c.a)({},e),{},{user:t.user,userInit:!1});case d.k:return Object(c.a)(Object(c.a)({},e),{},{userInit:!1,userError:t.error});default:return e}},h=f.a.createContext(O);t.b=function(e){var t=e.children,n=f.a.useReducer(j,O),a=Object(i.a)(n,2),p=a[0],b=a[1],v=Object(s.useCallback)(Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:d.m}),e.prev=1,e.next=4,l()({url:"/api/v1/users/checkAuth",method:"GET"});case 4:t=e.sent,b({type:d.n,user:t.data.user}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b({type:d.k,error:null});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[]);f.a.useEffect((function(){v()}),[v]);var x={logoutUser:function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:d.h}),e.prev=1,e.next=4,l()({url:"/api/v1/users/logout",method:"GET"});case 4:b({type:d.i}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),b({type:d.g,error:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),updateUserRequestsSent:function(e){return b({type:d.l,friend:e})},getUserGroups:function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:d.b}),e.prev=1,e.next=4,l()({url:"/api/v1/users/groups",method:"GET"});case 4:t=e.sent,b({type:d.c,groups:t.data.groups}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b({type:d.a,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),userCreateNewGroup:function(e){b({type:d.o,group:e})},updateUser:function(e){b({type:d.n,user:e})},checkUserExists:v,userUpdateGroup:function(e){b({type:d.p,group:e})}};return Object(r.jsx)(h.Provider,{value:Object(c.a)(Object(c.a)({},p),x),children:t})}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(3);var r=n(0),c=n(132),a=Object(c.io)("/"),u=Object(r.createContext)(a)},6:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"l",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"o",(function(){return f})),n.d(t,"p",(function(){return p})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return d})),n.d(t,"j",(function(){return O})),n.d(t,"m",(function(){return j})),n.d(t,"n",(function(){return h})),n.d(t,"k",(function(){return v}));var r="LOGOUT_USER_INIT",c="LOGOUT_USER_SUCCESS",a="LOGOUT_USER_FAILED",u="UPDATE_USER_FRIEND_SENT_REQUESTS",o="GET_USER_GROUPS_INIT",i="GET_USER_GROUPS_SUCCESS",s="GET_USER_GROUPS_FAILED",f="USER_CREATE_NEW_GROUP",p="USER_UPDATE_GROUP",l="GET_USER_NOTIFICATIONS_INIT",b="GET_USER_NOTIFICATIONS_SUCCESS",d="GET_USER_NOTIFICATIONS_FAILED",O="REMOVE_NOTIFICATION",j="UPDATE_USER_INIT",h="UPDATE_USER_SUCCESS",v="UPDATE_USER_FAILED"},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),c=n(4),a=n(84),u=n(0),o=n.n(u).a.createContext(void 0);t.b=function(e){var t=e.children,n=Object(a.a)(),u=n.isOpen,i=n.onOpen,s=n.onClose,f=Object(a.a)(),p=f.isOpen,l=f.onOpen,b=f.onClose,d=Object(a.a)(),O={isCreatePostOpen:u,onCreatePostOpen:i,onCreatePostClose:s,isCreateGroupOpen:p,onCreateGroupOpen:l,onCreateGroupClose:b,isNotificationsOpen:d.isOpen,onNotificationsOpen:d.onOpen,onNotificationsClose:d.onClose};return Object(r.jsx)(o.Provider,{value:Object(c.a)({},O),children:t})}},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(3),c=n(4),a=n(13),u=n.n(a),o=n(11),i=n(23),s=n(5),f=n(0),p=n.n(f),l=n(56),b=n(6),d={notifications:[],notificationsInit:!1,notificationsError:null},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.e:return Object(c.a)(Object(c.a)({},e),{},{notificationsInit:!0,notificationsError:null});case b.f:return Object(c.a)(Object(c.a)({},e),{},{notificationsInit:!1,notifications:t.notifications});case b.d:return Object(c.a)(Object(c.a)({},e),{},{notificationsInit:!1,notificationsError:t.error});case b.j:var n=[];return e.notifications&&e.notifications.length>0&&(n=Object(o.a)(e.notifications)),n=n.filter((function(e){return e._id!==t.notification})),Object(c.a)(Object(c.a)({},e),{},{notifications:n});default:return e}},j=n(25),h=n.n(j),v=n(40),x=p.a.createContext(d);t.b=function(e){var t=e.children,n=Object(f.useContext)(l.a),a=Object(f.useContext)(v.a).user,j=p.a.useReducer(O,d),E=Object(s.a)(j,2),_=E[0],S=E[1];Object(f.useEffect)((function(){a&&n&&n.on("notifications-".concat(a._id),function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S({type:b.f,notifications:[].concat(Object(o.a)(_.notifications),[t])});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n,a,_]),Object(f.useEffect)((function(){a&&function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S({type:b.e}),e.prev=1,e.next=4,h()({method:"GET",url:"/api/v1/notifications"});case 4:t=e.sent,S({type:b.f,notifications:t.data.notifications}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),S({type:b.d,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()()}),[a]);var g=function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()({method:"PATCH",url:"/api/v1/notifications/markAsRead"});case 3:n=e.sent,S({type:b.f,notifications:n.data.notifications}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(x.Provider,{value:Object(c.a)(Object(c.a)({},_),{},{removeNotification:function(e){return S({type:b.j,notification:e})},readAllNotifications:g}),children:t})})}},89:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n(200),a=n(205);n(0);t.default=function(){return Object(r.jsx)(c.a,{d:"flex",alignItems:"center",justifyContent:"center",h:"90vh",children:Object(r.jsx)(a.a,{boxSize:"100px",thickness:"6px",speed:"0.65s",emptyColor:"gray.200",color:"primary.600"})})}},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(3),c=n(13),a=n.n(c),u=n(23),o=n(11),i=n(5),s=n(0),f=n.n(s),p=n(56),l=n(40),b=n(25),d=n.n(b),O=n(12),j=f.a.createContext({});t.b=function(e){var t=e.children,n=Object(s.useContext)(p.a),c=Object(s.useContext)(l.a),f=c.user,b=c.getUserGroups,h=Object(s.useState)(""),v=Object(i.a)(h,2),x=v[0],E=v[1],_=Object(s.useState)([]),S=Object(i.a)(_,2),g=S[0],G=S[1],y=Object(s.useState)([]),C=Object(i.a)(y,2),I=C[0],m=C[1],U=Object(s.useState)(),T=Object(i.a)(U,2),R=T[0],k=T[1],w=Object(s.useCallback)((function(e){var t=Object(o.a)(g).filter((function(t){return t._id!==e}));G(t)}),[g]),P=Object(O.h)().pathname;Object(s.useEffect)((function(){(P.startsWith("/app")||P.startsWith("/profile"))&&function(){var e=Object(u.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"GET",url:"/api/v1/groups/new"});case 3:t=e.sent,G(t.data.groups),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[P]),Object(s.useEffect)((function(){(P.startsWith("/app")||P.startsWith("/profile"))&&function(){var e=Object(u.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"GET",url:"/api/v1/users/find-friends"});case 3:t=e.sent,m(t.data.users),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[P]),Object(s.useEffect)((function(){f&&R&&n.emit("".concat(R),{userId:f._id,name:x,userFriends:f.friends})}),[x,f,n,R]),Object(s.useEffect)((function(){f&&(n.on("getGroups-".concat(f._id),(function(e){e&&G(e)})),n.on("getPeople-".concat(f._id),(function(e){e&&m(e)})))}),[n,f]),Object(s.useEffect)((function(){f&&n.on("notifications-".concat(f._id),(function(e){var t=Object(o.a)(I);if("friendRequestAccepted"===e.type){var n=t.filter((function(t){return t._id!==e.sender._id}));m(n)}"joinGroupRequestAccepted"===e.type&&(w(e.group._id),b())}))}),[n,f,I,w,b]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(j.Provider,{value:{searchText:x,searchGroups:g,searchPeople:I,handleSearchTextChange:function(e,t){E(e),k(t)},updateGroup:w,updateGroupRequest:function(e,t){var n,r=Object(o.a)(g),c=r.findIndex((function(t){return t._id===e}));null===(n=r[c].requests)||void 0===n||n.push(t),G(r)}},children:t})})}}},[[197,11,12]]]);
//# sourceMappingURL=main.0b6ba873.chunk.js.map