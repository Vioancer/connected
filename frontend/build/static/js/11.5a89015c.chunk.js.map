{"version":3,"sources":["app/pages/notifications/notificationTypes/notificationStyles.ts","../../../src/Check.tsx","../../../src/Close.tsx","app/pages/notifications/notificationTypes/GroupReqNotification.tsx"],"names":["styles","container","borderRadius","bg","p","pos","closebtn","color","size","top","right","senderName","fontSize","textTransform","fontWeight","iconbtn","_hover","_active","CheckIcon","createIcon","viewBox","path","fill","points","CloseIcon","displayName","d","GroupReqNotification","notification","removeNotification","useContext","NotificationContext","user","AuthContext","useState","loadingAgr","setLoadingAgr","loadingRgr","setLoadingRgr","closeNotification","a","_id","axios","method","url","data","notificationId","acceptGroupRequest","group","newMember","sender","rejectGroupRequest","friend","type","spacing","src","photo","as","firstName","textAlign","name","placement","label","aria-label","hasArrow","icon","onClick"],"mappings":"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","file":"static/js/11.5a89015c.chunk.js","sourcesContent":["const styles = {\n\tcontainer: {\n\t\tborderRadius: '4px',\n\t\tbg: 'gray.800',\n\t\tp: 5,\n\t\tpos: 'relative' as any,\n\t},\n\tclosebtn: {\n\t\tcolor: '#fff',\n\t\tsize: 'sm',\n\t\tpos: 'absolute' as any,\n\t\ttop: 1,\n\t\tright: 1,\n\t},\n\tsenderName: {\n\t\tfontSize: '1.1rem',\n\t\tcolor: 'primary.500',\n\t\ttextTransform: 'capitalize' as any,\n\t\tfontWeight: 'bold' as any,\n\t},\n\ticonbtn: {\n\t\tbg: 'gray.700',\n\t\t_hover: {\n\t\t\tbg: 'gray.700',\n\t\t},\n\t\t_active: {\n\t\t\tbg: 'gray.700',\n\t\t},\n\t\tsize: 'sm',\n\t},\n};\n\nexport default styles;\n","import { createIcon } from \"@chakra-ui/icon\"\nimport * as React from \"react\"\n\nexport const CheckIcon = createIcon({\n  viewBox: \"0 0 14 14\",\n  path: (\n    <g fill=\"currentColor\">\n      <polygon points=\"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039\" />\n    </g>\n  ),\n})\n","import { createIcon } from \"@chakra-ui/icon\"\n\nexport const CloseIcon = createIcon({\n  displayName: \"CloseIcon\",\n  d:\n    \"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z\",\n})\n","import {\n\tAvatar,\n\tBox,\n\tCloseButton,\n\tHStack,\n\tIconButton,\n\tSpinner,\n\tTooltip,\n} from '@chakra-ui/react';\nimport axios from 'axios';\nimport React, { useContext, useState } from 'react';\nimport { Notification } from '../../../config/types';\n\nimport { CloseIcon, CheckIcon } from '@chakra-ui/icons';\nimport { NotificationContext } from '../../../store/context/NotificationContext';\nimport { AuthContext } from '../../../store/context/AuthContext';\n\nimport styles from './notificationStyles';\n\ninterface Props {\n\tnotification: Notification;\n}\n\nconst GroupReqNotification: React.FC<Props> = ({ notification }) => {\n\tconst { removeNotification } = useContext(NotificationContext);\n\tconst { user } = useContext(AuthContext);\n\tconst [loadingAgr, setLoadingAgr] = useState(false);\n\tconst [loadingRgr, setLoadingRgr] = useState(false);\n\n\tconst closeNotification = async () => {\n\t\tremoveNotification(notification._id);\n\t\ttry {\n\t\t\tawait axios({\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\turl: '/api/v1/notifications/hide',\n\t\t\t\tdata: {\n\t\t\t\t\tnotificationId: notification._id,\n\t\t\t\t},\n\t\t\t});\n\t\t} catch (_) {}\n\t};\n\n\tconst acceptGroupRequest = async () => {\n\t\tsetLoadingAgr(true);\n\t\ttry {\n\t\t\tawait axios({\n\t\t\t\turl: `api/v1/groups/${notification.group._id}/acceptGroupJoinRequest`,\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\tdata: {\n\t\t\t\t\tnewMember: notification.sender._id,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tcloseNotification();\n\t\t} catch (err) {}\n\t\tsetLoadingAgr(false);\n\t};\n\n\tconst rejectGroupRequest = async () => {\n\t\tsetLoadingRgr(true);\n\t\ttry {\n\t\t\tawait axios({\n\t\t\t\turl: `api/v1/groups/${user._id}/rejectGroupJoinRequest`,\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\tdata: {\n\t\t\t\t\tfriend: notification.sender._id,\n\t\t\t\t\tnotificationId: notification._id,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tcloseNotification();\n\t\t} catch (err) {}\n\t\tsetLoadingRgr(false);\n\t};\n\n\treturn (\n\t\t<Box {...styles.container}>\n\t\t\t{notification.type === 'joinGroupRequestAccepted' && (\n\t\t\t\t<CloseButton {...styles.closebtn} />\n\t\t\t)}\n\n\t\t\t<HStack spacing={10}>\n\t\t\t\t<Avatar size='sm' src={notification.sender.photo} />\n\t\t\t\t<Box as='span' {...styles.senderName}>\n\t\t\t\t\t{notification.sender.firstName}\n\t\t\t\t</Box>\n\n\t\t\t\t<Box textAlign='center' fontSize='1.1rem' color='#fff'>\n\t\t\t\t\t{notification.type === 'joinGroupRequestSent'\n\t\t\t\t\t\t? `wants to join ${notification.group.name}`\n\t\t\t\t\t\t: `you are part of ${notification.group.name}!!`}\n\t\t\t\t</Box>\n\n\t\t\t\t{notification.type === 'joinGroupRequestSent' && (\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tplacement='top'\n\t\t\t\t\t\tlabel='Accept Friend Request'\n\t\t\t\t\t\taria-label='Accept Friend Request tooltip'\n\t\t\t\t\t\thasArrow>\n\t\t\t\t\t\t{!loadingAgr ? (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tonClick={acceptGroupRequest}\n\t\t\t\t\t\t\t\tcolor='green.600'\n\t\t\t\t\t\t\t\t{...styles.iconbtn}\n\t\t\t\t\t\t\t\taria-label='accept friend request'\n\t\t\t\t\t\t\t\ticon={<CheckIcon />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor='green.600'\n\t\t\t\t\t\t\t\t{...styles.iconbtn}\n\t\t\t\t\t\t\t\taria-label='accept friend request loading'\n\t\t\t\t\t\t\t\ticon={<Spinner />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Tooltip>\n\t\t\t\t)}\n\t\t\t\t{notification.type === 'joinGroupRequestSent' && (\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tonClick={rejectGroupRequest}\n\t\t\t\t\t\tplacement='top'\n\t\t\t\t\t\tlabel='Reject Group Request'\n\t\t\t\t\t\taria-label='Reject group Request tooltip'\n\t\t\t\t\t\thasArrow>\n\t\t\t\t\t\t{!loadingRgr ? (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor='red.600'\n\t\t\t\t\t\t\t\t{...styles.iconbtn}\n\t\t\t\t\t\t\t\taria-label='reject group request'\n\t\t\t\t\t\t\t\ticon={<CloseIcon />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor='red.600'\n\t\t\t\t\t\t\t\t{...styles.iconbtn}\n\t\t\t\t\t\t\t\taria-label='reject friend request loading'\n\t\t\t\t\t\t\t\ticon={<Spinner />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Tooltip>\n\t\t\t\t)}\n\t\t\t</HStack>\n\t\t</Box>\n\t);\n};\n\nexport default GroupReqNotification;\n"],"sourceRoot":""}