(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[15],{496:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r=function(e){var t={};return Object.keys(e.errors).forEach((function(a){t[a]=e.errors[a].message})),t}},525:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a(16),n=a.n(s),i=a(27),c=a(6),o=a(0),l=a(236),d=a(477),m=a(432),u=a(158),p=a(33),b=a(65),f=a.p+"static/media/register.5b103301.svg",j={bgImage:"url(".concat(f,")"),bgRepeat:"no-repeat",bgPos:{xl:"left 15rem",md:"left auto",sm:"center 50vh"},bgSize:{xl:"40rem",md:"30rem",sm:"25rem"},minH:"91vh",templateColumns:"repeat(12, 1fr)",templateRows:"1fr .5fr"},O={rowStart:{base:1},rowEnd:{xl:-1,sm:2},colStart:{xl:7,sm:2},colEnd:{xl:11,md:8,sm:12},alignSelf:"center"},h={fontSize:"3.5rem",fontWeight:400,mb:"2rem"},x={colorScheme:"primary",variant:"outline",mt:5,borderRadius:4},w=a(164),v=a(20),g=a(21),y=a(104),N=a(102),S=a(31),P=a.n(S),C=a(496),E={email:"",password:"",passwordConfirm:"",firstName:"",middleName:"",lastName:""},q=b.a().shape({firstName:b.c().required("Please provide your firstname"),lastName:b.c().required("Please provide your lastname"),email:b.c().email("Please provide a valid email").required("Please provide your email"),password:b.c().min(6,"Password should atleast contain a minimum of 6 characters").required("Please protect your account with a password"),passwordConfirm:b.c().when("password",{is:function(e){return!!(e&&e.length>0)},then:b.c().oneOf([b.b("password")],"passwords do not match")}).required("Confirm your password")});t.default=function(){var e=Object(o.useContext)(v.a).user,t=Object(g.g)();Object(o.useEffect)((function(){if(e)return t.replace("/app/public")}),[e,t]);var a=Object(N.a)(),s=a.setAlert,b=a.isAlertOpen,f=a.alertDetails;return Object(r.jsxs)(r.Fragment,{children:[b&&Object(r.jsx)(y.default,{alertDetails:f}),Object(r.jsx)(l.a,Object(c.a)(Object(c.a)({},j),{},{children:Object(r.jsxs)(l.b,Object(c.a)(Object(c.a)({},O),{},{children:[Object(r.jsx)(d.a,Object(c.a)(Object(c.a)({textTransform:"uppercase",as:"h3"},h),{},{children:"Register"})),Object(r.jsx)(p.c,{initialValues:E,validationSchema:q,onSubmit:function(){var e=Object(i.a)(n.a.mark((function e(a,r){var i,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.setErrors,""===(o=Object(c.a)({},a)).middleName.trim()&&delete o.middleName,e.prev=3,e.next=6,P()({url:"/api/v1/users/register",method:"POST",data:o});case 6:s("success","your account was created successfully!!"),setTimeout((function(){return t.replace("/auth/login")}),1500),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0.response.data.message?s(e.t0.response.data.status,e.t0.response.data.message):i(Object(C.a)(e.t0.response.data.error));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function(e){var t=e.isValid,a=e.dirty,s=e.isSubmitting;return Object(r.jsxs)(p.b,{autoComplete:"off",children:[Object(r.jsxs)(m.a,{children:[Object(r.jsx)(w.default,{name:"firstName",label:"First Name",type:"text"}),Object(r.jsx)(w.default,{name:"middleName",required:!1,label:"Middle Name",type:"text"}),Object(r.jsx)(w.default,{name:"lastName",label:"Last Name",type:"text"})]}),Object(r.jsx)(w.default,{name:"email",label:"Email",type:"email"}),Object(r.jsx)(w.default,{name:"password",label:"Password",type:"password"}),Object(r.jsx)(w.default,{name:"passwordConfirm",label:"Password Confirm",type:"password"}),Object(r.jsx)(u.a,Object(c.a)(Object(c.a)({isLoading:s,disabled:!a&&t||a&&!t},x),{},{type:"submit",children:"REGISTER"}))]})}})]}))}))]})}}}]);
//# sourceMappingURL=15.158a351b.chunk.js.map