(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[13],{496:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var r=function(e){var a={};return Object.keys(e.errors).forEach((function(t){a[t]=e.errors[t].message})),a}},520:function(e,a,t){"use strict";t.r(a);var r=t(1),s=t(8),n=t.n(s),i=t(17),c=t(5),o=t(0),l=t(236),m=t(479),d=t(432),u=t(157),p=t(35),b=t(65),j=t.p+"static/media/register.d20b7391.svg",f={bgImage:"url(".concat(j,")"),bgRepeat:"no-repeat",bgPos:{xl:"left 15rem",md:"left auto",sm:"center 50vh"},bgSize:{xl:"40rem",md:"30rem",sm:"25rem"},minH:"91vh",templateColumns:"repeat(12, 1fr)",templateRows:"1fr .5fr"},O={rowStart:{base:1},rowEnd:{xl:-1,sm:2},colStart:{xl:7,sm:2},colEnd:{xl:11,md:8,sm:12},alignSelf:"center"},h={fontSize:"3.5rem",fontWeight:400,mb:"2rem"},x={colorScheme:"primary",variant:"outline",mt:5,borderRadius:4},w=t(163),v=t(22),g=t(24),y=t(103),N=t(102),S=t(19),P=t.n(S),C=t(496),E={email:"",password:"",passwordConfirm:"",firstName:"",middleName:"",lastName:""},q=b.a().shape({firstName:b.c().required("Please provide your firstname"),lastName:b.c().required("Please provide your lastname"),email:b.c().email("Please provide a valid email").required("Please provide your email"),password:b.c().min(6,"Password should atleast contain a minimum of 6 characters").required("Please protect your account with a password"),passwordConfirm:b.c().when("password",{is:function(e){return!!(e&&e.length>0)},then:b.c().oneOf([b.b("password")],"passwords do not match")}).required("Confirm your password")});a.default=function(){var e=Object(o.useContext)(v.a).user,a=Object(g.g)();Object(o.useEffect)((function(){if(e)return a.replace("/app/public")}),[e,a]);var t=Object(N.a)(),s=t.setAlert,b=t.isAlertOpen,j=t.alertDetails;return Object(r.jsxs)(r.Fragment,{children:[b&&Object(r.jsx)(y.a,{alertDetails:j}),Object(r.jsx)(l.a,Object(c.a)(Object(c.a)({},f),{},{children:Object(r.jsxs)(l.b,Object(c.a)(Object(c.a)({},O),{},{children:[Object(r.jsx)(m.a,Object(c.a)(Object(c.a)({textTransform:"uppercase",as:"h3"},h),{},{children:"Register"})),Object(r.jsx)(p.c,{initialValues:E,validationSchema:q,onSubmit:function(){var e=Object(i.a)(n.a.mark((function e(t,r){var i,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.setErrors,""===(o=Object(c.a)({},t)).middleName.trim()&&delete o.middleName,e.prev=3,e.next=6,P()({url:"/api/v1/users/register",method:"POST",data:o});case 6:s("success","your account was created successfully!!"),setTimeout((function(){return a.replace("/auth/login")}),1500),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0.response.data.message?s(e.t0.response.data.status,e.t0.response.data.message):i(Object(C.a)(e.t0.response.data.error));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a,t){return e.apply(this,arguments)}}(),children:function(e){var a=e.isValid,t=e.dirty,s=e.isSubmitting;return Object(r.jsxs)(p.b,{autoComplete:"off",children:[Object(r.jsxs)(d.a,{children:[Object(r.jsx)(w.a,{name:"firstName",label:"First Name",type:"text"}),Object(r.jsx)(w.a,{name:"middleName",required:!1,label:"Middle Name",type:"text"}),Object(r.jsx)(w.a,{name:"lastName",label:"Last Name",type:"text"})]}),Object(r.jsx)(w.a,{name:"email",label:"Email",type:"email"}),Object(r.jsx)(w.a,{name:"password",label:"Password",type:"password"}),Object(r.jsx)(w.a,{name:"passwordConfirm",label:"Password Confirm",type:"password"}),Object(r.jsx)(u.a,Object(c.a)(Object(c.a)({isLoading:s,disabled:!t&&a||t&&!a},x),{},{type:"submit",children:"REGISTER"}))]})}})]}))}))]})}}}]);
//# sourceMappingURL=13.ccce0704.chunk.js.map