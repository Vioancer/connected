(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[12],{496:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r=function(e){var t={};return Object.keys(e.errors).forEach((function(a){t[a]=e.errors[a].message})),t}},519:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a(8),n=a.n(s),c=a(17),i=a(5),o=a(0),l=a(236),u=a(479),b=a(157),d=a(35),m=a(163),p=a.p+"static/media/login.a2aadc18.svg",j={bgImage:"url(".concat(p,")"),bgRepeat:"no-repeat",bgPos:{xl:"right 15rem",md:"right auto",sm:"center 50vh"},bgSize:{xl:"auto",md:"40rem",sm:"25rem"},minH:"91vh",templateColumns:"repeat(12, 1fr)",templateRows:"repeat(2, 1fr)"},f={rowStart:{base:1},rowEnd:{xl:-1,sm:2},colStart:{base:2},colEnd:{xl:6,md:8,sm:12},alignSelf:"center"},O={fontSize:"3.5rem",fontWeight:400,mb:"2rem"},h={colorScheme:"primary",variant:"outline",mt:5,borderRadius:4},g=a(22),v=a(24),x=a(65),w=a(19),S=a.n(w),y=a(102),E=a(103),P=a(496),k={email:"",password:""},C=x.a().shape({email:x.c().email("Please provide a valid email").required("Please provide your email"),password:x.c().required("Please enter your password")});t.default=function(){var e=Object(o.useContext)(g.a),t=e.user,a=e.updateUser,s=Object(y.a)(),p=s.setAlert,x=s.alertDetails,w=s.isAlertOpen,L=Object(v.g)();return Object(o.useEffect)((function(){if(t)return L.replace("/app/public")}),[t,L]),Object(r.jsxs)(r.Fragment,{children:[w&&Object(r.jsx)(E.a,{alertDetails:x}),Object(r.jsx)(l.a,Object(i.a)(Object(i.a)({},j),{},{children:Object(r.jsxs)(l.b,Object(i.a)(Object(i.a)({},f),{},{children:[Object(r.jsx)(u.a,Object(i.a)(Object(i.a)({textTransform:"uppercase",as:"h3"},O),{},{children:"Login"})),Object(r.jsx)(d.c,{initialValues:k,validationSchema:C,onSubmit:function(){var e=Object(c.a)(n.a.mark((function e(t,r){var s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.setErrors,e.prev=1,e.next=4,S()({url:"/api/v1/users/login",method:"POST",data:Object(i.a)({},t)});case 4:c=e.sent,p("success","You are logged in!!"),setTimeout((function(){a(c.data.user)}),1500),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response.data.error?s(Object(P.a)(e.t0.response.data.error)):p("error",e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function(e){var t=e.dirty,a=e.isValid,s=e.isSubmitting;return Object(r.jsxs)(d.b,{autoComplete:"off",children:[Object(r.jsx)(m.a,{name:"email",label:"Email",type:"email"}),Object(r.jsx)(m.a,{name:"password",label:"Password",type:"password"}),Object(r.jsx)(b.a,Object(i.a)(Object(i.a)({isLoading:s,disabled:!t&&a||t&&!a},h),{},{type:"submit",children:"LOGIN"}))]})}})]}))}))]})}}}]);
//# sourceMappingURL=12.7f08e431.chunk.js.map