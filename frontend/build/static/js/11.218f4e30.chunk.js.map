{"version":3,"sources":["assets/icons/groups.svg","app/pages/app/containers/Group.tsx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","SvgGroups","_ref","svgRef","title","titleId","props","fill","xmlns","width","height","viewBox","ref","undefined","id","ForwardRef","Group","io","useContext","SocketContext","slug","useParams","useState","loading","setLoading","group","setGroup","groupPosts","setGroupPosts","useEffect","a","axios","method","url","res","data","getGroup","_id","posts","getGroupPosts","on","prevProps","unshift","postIndex","findIndex","el","Array","map","_","p","md","sm","spacing","mb","alignItems","icon","style","src","photo","size","boxShadow","color","textAlign","textTransform","name","post"],"mappings":"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","file":"static/js/11.218f4e30.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 12.75q1.219 0 2.297 0.258t1.922 0.633 1.313 1.125 0.469 1.594v1.641h-12v-1.594q0-0.891 0.469-1.641t1.313-1.125 1.922-0.633 2.297-0.258zM3.984 12.984q0.844 0 1.43-0.586t0.586-1.383q0-0.844-0.586-1.43t-1.43-0.586q-0.797 0-1.383 0.586t-0.586 1.43q0 0.797 0.586 1.383t1.383 0.586zM5.109 14.109q-0.234-0.047-0.516-0.070t-0.609-0.023q-0.75 0-1.43 0.141t-1.336 0.422q-0.563 0.234-0.891 0.75t-0.328 1.125v1.547h4.5v-1.594q0-1.219 0.609-2.297zM20.016 12.984q0.797 0 1.383-0.586t0.586-1.383q0-0.844-0.586-1.43t-1.383-0.586q-0.844 0-1.43 0.586t-0.586 1.43q0 0.797 0.586 1.383t1.43 0.586zM24 16.453q0-0.609-0.328-1.125t-0.891-0.75q-0.656-0.281-1.336-0.422t-1.43-0.141q-0.328 0-0.609 0.023t-0.516 0.070q0.609 1.078 0.609 2.297v1.594h4.5v-1.547zM12 6q0.844 0 1.523 0.398t1.078 1.078 0.398 1.523-0.398 1.523-1.078 1.078-1.523 0.398-1.523-0.398-1.078-1.078-0.398-1.523 0.398-1.523 1.078-1.078 1.523-0.398z\"\n});\n\nfunction SvgGroups(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"groups\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGroups);\nexport default __webpack_public_path__ + \"static/media/groups.2e5878bc.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Avatar, Box, Heading, HStack } from '@chakra-ui/react';\r\n\r\nimport Post from '../components/Post';\r\n\r\nimport { Post as PostProps } from './../../../config/types';\r\nimport { SocketContext } from '../../../store/context/SocketContext';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\nimport PostSkeleton from '../components/PostSkeleton';\r\nimport { ReactComponent as GroupIcon } from './../../../../assets/icons/groups.svg';\r\n\r\nconst Group = () => {\r\n\tconst io = useContext<any>(SocketContext);\r\n\tconst { slug } = useParams<any>();\r\n\tconst [loading, setLoading] = useState<boolean>(false);\r\n\tconst [group, setGroup] = useState<null | any>(null);\r\n\tconst [groupPosts, setGroupPosts] = useState<PostProps[]>([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (slug) {\r\n\t\t\tconst getGroup = async () => {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await axios({\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\turl: `/api/v1/groups/${slug}`,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tsetGroup(res.data.group);\r\n\t\t\t\t} catch (err) {}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t};\r\n\t\t\tgetGroup();\r\n\t\t}\r\n\t}, [slug]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (group) {\r\n\t\t\tconst getGroupPosts = async () => {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await axios({\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\turl: `/api/v1/groups/${group._id}/posts`,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tsetGroupPosts(res.data.posts);\r\n\t\t\t\t} catch (err) {}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t};\r\n\t\t\tgetGroupPosts();\r\n\t\t}\r\n\t}, [group]);\r\n\r\n\tuseEffect(() => {\r\n\t\tio.on('newPost', (data: PostProps) => {\r\n\t\t\tsetGroupPosts((prevProps: PostProps[]) => {\r\n\t\t\t\tconst posts = [...prevProps];\r\n\t\t\t\tposts.unshift(data);\r\n\t\t\t\treturn posts;\r\n\t\t\t});\r\n\t\t});\r\n\t}, [io]);\r\n\r\n\tuseEffect(() => {\r\n\t\tio.on('updatedPost', (data: PostProps) => {\r\n\t\t\tsetGroupPosts((prevProps: PostProps[]) => {\r\n\t\t\t\tlet posts = [...prevProps];\r\n\t\t\t\tconst postIndex = posts.findIndex((el) => el._id === data._id);\r\n\t\t\t\tposts[postIndex] = { ...data };\r\n\t\t\t\treturn posts;\r\n\t\t\t});\r\n\t\t});\r\n\t}, [io]);\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{Array(10)\r\n\t\t\t\t\t.fill(0)\r\n\t\t\t\t\t.map((_, i) => {\r\n\t\t\t\t\t\treturn <PostSkeleton key={i} />;\r\n\t\t\t\t\t})}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tp={{\r\n\t\t\t\tmd: 10,\r\n\t\t\t\tsm: 4,\r\n\t\t\t}}>\r\n\t\t\t{group && (\r\n\t\t\t\t<HStack spacing={5} mb={10} alignItems='center'>\r\n\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\ticon={<GroupIcon style={{ height: '3rem' }} />}\r\n\t\t\t\t\t\tsrc={group.photo}\r\n\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\tboxShadow='0 2px 4px rgba(0, 0, 0, .36)'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Heading\r\n\t\t\t\t\t\tcolor='primary.700'\r\n\t\t\t\t\t\ttextAlign={{\r\n\t\t\t\t\t\t\tmd: 'left',\r\n\t\t\t\t\t\t\tsm: 'center',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ttextTransform='capitalize'>\r\n\t\t\t\t\t\t{group.name}\r\n\t\t\t\t\t</Heading>\r\n\t\t\t\t</HStack>\r\n\t\t\t)}\r\n\t\t\t{groupPosts.map((post: PostProps) => {\r\n\t\t\t\treturn <Post post={post} key={post._id} />;\r\n\t\t\t})}\r\n\t\t</Box>\r\n\t);\r\n};\r\n\r\nexport default Group;\r\n"],"sourceRoot":""}