(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[2],{102:function(e,t,n){"use strict";var r=n(4),a=n(100),c=n(0);t.a=function(){var e=Object(a.a)(),t=e.isOpen,n=e.onOpen,o=e.onClose,i=Object(c.useState)(null),s=Object(r.a)(i,2),u=s[0],l=s[1];Object(c.useEffect)((function(){if(u){var e=setTimeout((function(){o()}),2500);return function(){return clearTimeout(e)}}}),[u,o]);return{setAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",t=arguments.length>1?arguments[1]:void 0;l({status:e,message:t}),n()},isAlertOpen:t,onAlertClose:o,alertDetails:u}}},103:function(e,t,n){"use strict";var r=n(1),a=n(160);n(0);t.a=function(e){var t=e.alertDetails;return Object(r.jsxs)(a.a,{variant:"solid",borderRadius:"2px",pos:"absolute",top:"20%",left:"38%",maxW:"500px",status:null===t||void 0===t?void 0:t.status,children:[Object(r.jsx)(a.b,{}),Object(r.jsx)(a.c,{children:null===t||void 0===t?void 0:t.message})]})}},104:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(1);var r=n(0),a=n(235),c=Object(a.io)("/"),o=Object(r.createContext)(c)},12:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"l",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"o",(function(){return l})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"j",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return O})),n.d(t,"k",(function(){return h}));var r="LOGOUT_USER_INIT",a="LOGOUT_USER_SUCCESS",c="LOGOUT_USER_FAILED",o="UPDATE_USER_FRIEND_SENT_REQUESTS",i="GET_USER_GROUPS_INIT",s="GET_USER_GROUPS_SUCCESS",u="GET_USER_GROUPS_FAILED",l="USER_CREATE_NEW_GROUP",j="GET_USER_NOTIFICATIONS_INIT",p="GET_USER_NOTIFICATIONS_SUCCESS",b="GET_USER_NOTIFICATIONS_FAILED",d="REMOVE_NOTIFICATION",f="UPDATE_USER_INIT",O="UPDATE_USER_SUCCESS",h="UPDATE_USER_FAILED"},120:function(e,t,n){"use strict";var r=n(1),a=n(432),c=n(433),o=n(427),i=n(0),s=n(22);t.a=function(){var e=Object(i.useContext)(s.a).user;return Object(r.jsx)(a.a,{cursor:"pointer",spacing:4,as:"nav",children:e&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(c.a,{loading:"lazy",name:e.firstName,src:e.photo}),Object(r.jsx)(o.a,{textTransform:"capitalize",fontSize:"1.2rem",color:"primary.700",children:e.firstName})]})})}},121:function(e,t,n){"use strict";var r=n(4),a=n(0),c=n(100);t.a=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(null),s=Object(r.a)(i,2),u=s[0],l=s[1],j=Object(a.useState)({}),p=Object(r.a)(j,2),b=p[0],d=p[1],f=Object(a.useState)(null),O=Object(r.a)(f,2),h=O[0],x=O[1],m=Object(c.a)(),g=m.isOpen,v=m.onClose,y=m.onOpen;Object(a.useEffect)((function(){n&&(l(URL.createObjectURL(n)),y())}),[n,y]);return{image:n,setImage:o,showImageCropper:g,closeImageCropper:v,imageSettings:b,setImageSettings:d,imageUrl:u,resetValues:function(){o(null),l(null),x(null)},setImageUrl:l,setCroppedImage:x,croppedImage:h,openImageCropper:y}}},122:function(e,t,n){"use strict";var r=n(1),a=n(5),c=n(4),o=n(0),i=n(242),s=(n(421),n(30)),u=n(137),l=n(157);t.a=function(e){var t=e.photo,n=e.showImageCropper,j=e.closeImageCropper,p=e.setImageSettings,b=e.setCroppedImage,d=e.imageSettings,f=Object(o.useState)(),O=Object(c.a)(f,2),h=O[0],x=O[1];return Object(r.jsxs)(s.a,{size:"xl",isOpen:n,scrollBehavior:"inside",onClose:j,children:[Object(r.jsx)(s.h,{}),Object(r.jsx)(s.d,{children:Object(r.jsxs)(u.a,{children:[Object(r.jsx)(s.c,{}),Object(r.jsxs)(u.a,{h:"100%",pt:12,children:[n&&t&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(i.a,Object(a.a)({style:{height:400,width:"100%"},src:t,aspectRatio:1,viewMode:1,guides:!0,minCropBoxHeight:20,minCropBoxWidth:20,background:!1,responsive:!0,autoCropArea:1,onInitialized:function(e){x(e)}},d))}),Object(r.jsx)("br",{})]}),Object(r.jsx)(s.f,{children:Object(r.jsx)(l.a,{onClick:function(){h&&(h.getCroppedCanvas().toBlob((function(e){b(URL.createObjectURL(e))})),p(h.getData({rounded:!0})),j())},children:"Save"})})]})})]})}},123:function(e,t,n){"use strict";var r=n(1),a=n(5),c=n(4),o=n(82),i=(n(0),n(35)),s=n(46),u=n(247),l=n(431),j=n(250);t.a=function(e){var t=e.size,n=void 0===t?"md":t,p=e.label,b=(e.type,e.bg),d=e.required,f=void 0===d||d,O=Object(o.a)(e,["size","label","type","bg","required"]),h=Object(i.d)(O),x=Object(c.a)(h,2),m=x[0],g=m.name,v=(m.value,Object(o.a)(m,["name","value"])),y=x[1],C=y.error,w=y.touched,S=y.value;return Object(r.jsxs)(s.a,{mb:5,isRequired:f,isInvalid:w&&!!C,children:[Object(r.jsx)(u.a,{htmlFor:g,children:p}),Object(r.jsx)(l.a,Object(a.a)(Object(a.a)({id:g,as:i.a,focusBorderColor:"primary.500",size:n,value:S,bg:b,bgColor:w&&C?"red.200":"secondary.200"},v),O)),Object(r.jsx)(j.a,{children:w&&C?C:""})]})}},162:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1),a=n(8),c=n.n(a),o=n(17),i=n(7),s=n(4),u=n(0),l=n.n(u),j=n(104),p=n(22),b=n(19),d=n.n(b),f=l.a.createContext({});t.b=function(e){var t=e.children,n=Object(u.useContext)(j.a),a=Object(u.useContext)(p.a),l=a.user,b=a.getUserGroups,O=Object(u.useState)(""),h=Object(s.a)(O,2),x=h[0],m=h[1],g=Object(u.useState)([]),v=Object(s.a)(g,2),y=v[0],C=v[1],w=Object(u.useState)([]),S=Object(s.a)(w,2),I=S[0],E=S[1],_=Object(u.useState)(),k=Object(s.a)(_,2),R=k[0],G=k[1],q=Object(u.useCallback)((function(e){var t=Object(i.a)(y).filter((function(t){return t._id!==e}));C(t)}),[y]);Object(u.useEffect)((function(){(function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"GET",url:"/api/v1/groups/new"});case 3:t=e.sent,C(t.data.groups),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.useEffect)((function(){(function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"GET",url:"/api/v1/users/find-friends"});case 3:t=e.sent,E(t.data.users),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.useEffect)((function(){l&&R&&n.emit("".concat(R),{userId:l._id,name:x,userFriends:l.friends})}),[x,l,n,R]),Object(u.useEffect)((function(){l&&(n.on("getGroups-".concat(l._id),(function(e){e&&C(e)})),n.on("getPeople-".concat(l._id),(function(e){e&&E(e)})))}),[n,l]),Object(u.useEffect)((function(){l&&n.on("notifications-".concat(l._id),(function(e){var t=Object(i.a)(I);if("friendRequestAccepted"===e.type){var n=t.filter((function(t){return t._id!==e.sender._id}));E(n)}"joinGroupRequestAccepted"===e.type&&(q(e.group._id),b())}))}),[n,l,I,q,b]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(f.Provider,{value:{searchText:x,searchGroups:y,searchPeople:I,handleSearchTextChange:function(e,t){m(e),G(t)},updateGroup:q},children:t})})}},163:function(e,t,n){"use strict";var r=n(1),a=n(5),c=n(4),o=n(82),i=(n(0),n(35)),s=n(46),u=n(247),l=n(428),j=n(250);t.a=function(e){e.size;var t=e.label,n=e.type,p=(e.passwordValue,e.required),b=void 0===p||p,d=Object(o.a)(e,["size","label","type","passwordValue","required"]),f=Object(i.d)(d),O=Object(c.a)(f,2),h=O[0],x=h.name,m=(h.value,Object(o.a)(h,["name","value"])),g=O[1],v=g.error,y=g.touched,C=g.value;return Object(r.jsxs)(s.a,{isRequired:b,isInvalid:y&&!!v,mb:5,children:[Object(r.jsx)(u.a,{htmlFor:x,textTransform:"capitalize",children:t}),Object(r.jsx)(l.a,Object(a.a)(Object(a.a)({bgColor:y&&v?"red.200":"secondary.200",as:i.a,color:"gray.700",type:n,value:C,id:x},m),d)),Object(r.jsx)(j.a,{children:y&&v?v:""})]})}},190:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=r.createElement("path",{d:"M6.984 15h8.016v2.016h-8.016v-2.016zM6.984 12h8.016v2.016h-8.016v-2.016zM6.984 9h8.016v2.016h-8.016v-2.016zM18.984 2.016v3h3v1.969h-3v3h-1.969v-3h-3v-1.969h3v-3h1.969zM17.016 19.219v-7.219h1.969v6.984q0 0.797-0.586 1.406t-1.383 0.609h-12q-0.797 0-1.406-0.609t-0.609-1.406v-12q0-0.797 0.609-1.383t1.406-0.586h6.984v1.969h-6.984v12.234h12z"});function i(e,t){var n=e.title,i=e.titleId,s=c(e,["title","titleId"]);return r.createElement("svg",a({fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":i},s),void 0===n?r.createElement("title",{id:i},"post_add"):n?r.createElement("title",{id:i},n):null,o)}var s=r.forwardRef(i);n.p},191:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=r.createElement("path",{d:"M12.984 12.984q1.875 0 3.938 0.82t2.063 2.18v2.016h-12v-2.016q0-1.359 2.063-2.18t3.938-0.82zM19.641 13.172q1.734 0.281 3.047 1.008t1.313 1.805v2.016h-3v-2.016q0-1.594-1.359-2.813zM12.984 11.016q-1.219 0-2.109-0.891t-0.891-2.109 0.891-2.109 2.109-0.891 2.109 0.891 0.891 2.109-0.891 2.109-2.109 0.891zM18 11.016q-0.469 0-0.891-0.141 0.891-1.266 0.891-2.859t-0.891-2.859q0.422-0.141 0.891-0.141 1.219 0 2.109 0.891t0.891 2.109-0.891 2.109-2.109 0.891zM8.016 9.984v2.016h-3v3h-2.016v-3h-3v-2.016h3v-3h2.016v3h3z"});function i(e,t){var n=e.title,i=e.titleId,s=c(e,["title","titleId"]);return r.createElement("svg",a({fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":i},s),void 0===n?r.createElement("title",{id:i},"group_add"):n?r.createElement("title",{id:i},n):null,o)}var s=r.forwardRef(i);n.p},192:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=r.createElement("path",{d:"M18 15.984l2.016 2.016v0.984h-16.031v-0.984l2.016-2.016v-4.969q0-2.344 1.195-4.078t3.305-2.25v-0.703q0-0.609 0.422-1.055t1.078-0.445 1.078 0.445 0.422 1.055v0.703q2.109 0.516 3.305 2.25t1.195 4.078v4.969zM12 21.984q-0.844 0-1.43-0.563t-0.586-1.406h4.031q0 0.797-0.609 1.383t-1.406 0.586z"});function i(e,t){var n=e.title,i=e.titleId,s=c(e,["title","titleId"]);return r.createElement("svg",a({fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":i},s),void 0===n?r.createElement("title",{id:i},"notifications"):n?r.createElement("title",{id:i},n):null,o)}var s=r.forwardRef(i);n.p},207:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(137),c=n(248);n(0);t.default=function(){return Object(r.jsx)(a.a,{d:"flex",alignItems:"center",justifyContent:"center",h:"90vh",children:Object(r.jsx)(c.a,{boxSize:"100px",thickness:"6px",speed:"0.65s",emptyColor:"gray.200",color:"primary.600"})})}},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(1),a=n(5),c=n(8),o=n.n(c),i=n(17),s=n(4),u=n(0),l=n.n(u),j=n(19),p=n.n(j),b=n(7),d=n(12),f={user:null,userInit:!1,userError:null,logoutInit:!1,logoutError:null,userGroups:null,userGroupsInit:!1,userGroupsError:null},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.h:return Object(a.a)(Object(a.a)({},e),{},{logoutInit:!0,logoutError:null});case d.i:return Object(a.a)(Object(a.a)({},e),{},{logoutInit:!1,user:null});case d.g:return Object(a.a)(Object(a.a)({},e),{},{logoutInit:!1,logoutError:t.error});case d.l:var n=Object(a.a)({},e.user),r=Object(b.a)(e.user.requestsSent);return r.push(t.friend),n.requestsSent=r,Object(a.a)(Object(a.a)({},e),{},{user:n});case d.b:return Object(a.a)(Object(a.a)({},e),{},{userGroupsInit:!0,userGroupsError:null});case d.c:return Object(a.a)(Object(a.a)({},e),{},{userGroupsInit:!1,userGroups:t.groups});case d.a:return Object(a.a)(Object(a.a)({},e),{},{userGroupsInit:!1,userGroupsError:t.error});case d.o:var c=[];return e.userGroups&&(c=Object(b.a)(e.userGroups)),c.push(t.group),Object(a.a)(Object(a.a)({},e),{},{userGroups:c});case d.m:return Object(a.a)(Object(a.a)({},e),{},{userInit:!0});case d.n:return Object(a.a)(Object(a.a)({},e),{},{user:t.user,userInit:!1});case d.k:return Object(a.a)(Object(a.a)({},e),{},{userInit:!1,userError:t.error});default:return e}},h=l.a.createContext(f);t.b=function(e){var t=e.children,n=l.a.useReducer(O,f),c=Object(s.a)(n,2),u=c[0],j=c[1];l.a.useEffect((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({type:d.m}),e.prev=1,e.next=4,p()({url:"/api/v1/users/checkAuth",method:"GET"});case 4:t=e.sent,j({type:d.n,user:t.data.user}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),j({type:d.k,error:null});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var b={logoutUser:function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({type:d.h}),e.prev=1,e.next=4,p()({url:"/api/v1/users/logout",method:"GET"});case 4:j({type:d.i}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),j({type:d.g,error:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),updateUserRequestsSent:function(e){return j({type:d.l,friend:e})},getUserGroups:function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({type:d.b}),e.prev=1,e.next=4,p()({url:"/api/v1/users/groups",method:"GET"});case 4:t=e.sent,j({type:d.c,groups:t.data.groups}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),j({type:d.a,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),userCreateNewGroup:function(e){j({type:d.o,group:e})},updateUser:function(e){j({type:d.n,user:e})}};return Object(r.jsx)(h.Provider,{value:Object(a.a)(Object(a.a)({},u),b),children:t})}},270:function(e,t,n){},275:function(e,t,n){},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),a=n(5),c=n(100),o=n(0),i=n.n(o).a.createContext(void 0);t.b=function(e){var t=e.children,n=Object(c.a)(),o=n.isOpen,s=n.onOpen,u=n.onClose,l=Object(c.a)(),j=l.isOpen,p=l.onOpen,b=l.onClose,d=Object(c.a)(),f={isCreatePostOpen:o,onCreatePostOpen:s,onCreatePostClose:u,isCreateGroupOpen:j,onCreateGroupOpen:p,onCreateGroupClose:b,isNotificationsOpen:d.isOpen,onNotificationsOpen:d.onOpen,onNotificationsClose:d.onClose};return Object(r.jsx)(i.Provider,{value:Object(a.a)({},f),children:t})}},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(1),a=n(5),c=n(8),o=n.n(c),i=n(7),s=n(17),u=n(4),l=n(0),j=n.n(l),p=n(104),b=n(12),d={notifications:[],notificationsInit:!1,notificationsError:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.e:return Object(a.a)(Object(a.a)({},e),{},{notificationsInit:!0,notificationsError:null});case b.f:return Object(a.a)(Object(a.a)({},e),{},{notificationsInit:!1,notifications:t.notifications});case b.d:return Object(a.a)(Object(a.a)({},e),{},{notificationsInit:!1,notificationsError:t.error});case b.j:var n=[];return e.notifications&&e.notifications.length>0&&(n=Object(i.a)(e.notifications)),n=n.filter((function(e){return e._id!==t.notification})),Object(a.a)(Object(a.a)({},e),{},{notifications:n});default:return e}},O=n(19),h=n.n(O),x=n(22),m=j.a.createContext(d);t.b=function(e){var t=e.children,n=Object(l.useContext)(p.a),c=Object(l.useContext)(x.a).user,O=j.a.useReducer(f,d),g=Object(u.a)(O,2),v=g[0],y=g[1];Object(l.useEffect)((function(){c&&n&&n.on("notifications-".concat(c._id),function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y({type:b.f,notifications:[].concat(Object(i.a)(v.notifications),[t])});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n,c,v]),Object(l.useEffect)((function(){(function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y({type:b.e}),e.prev=1,e.next=4,h()({method:"GET",url:"/api/v1/notifications"});case 4:t=e.sent,y({type:b.f,notifications:t.data.notifications}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y({type:b.d,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var C=function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()({method:"PATCH",url:"/api/v1/notifications/markAsRead"});case 3:n=e.sent,y({type:b.f,notifications:n.data.notifications}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(m.Provider,{value:Object(a.a)(Object(a.a)({},v),{},{removeNotification:function(e){return y({type:b.j,notification:e})},readAllNotifications:C}),children:t})})}},422:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),o=n(66),i=n.n(o),s=(n(270),n(43)),u=n(100),l=n(489),j=n(462),p=n(461),b=Object(p.a)({xs:"300px",sm:"320px",md:"768px",lg:"960px",xl:"1200px","1778px":"1778px"}),d=Object(j.a)({fonts:{body:"Lato, sans-serif",brand:"GrinchedRegular, sans-serif "},colors:{primary:{50:"#add6ff",100:"#85c2ff",200:"#5cadff",300:"#47a3ff",400:"#3399ff",500:"#1e90ff",600:"#0a85ff",700:"#007af5",800:"#0070e0",900:"#0066cc"},secondary:{50:"#fff",100:"#ecf1fe",200:"#d8e3fd",300:"#c5d5fc",400:"#adc4fb",500:"#9eb9fa",600:"#8aacf9",700:"#779ef9",800:"#6390f8",900:"#5082f7"},tertiary:"#e3f0ff"},breakpoints:b,config:{initialColorMode:"light",useSystemColorMode:!1}}),f=n(432),O=n(427),h=n(464),x=n(485),m=n(473),g=n(137),v=n(483),y=n(157),C=n(472),w=function(e){var t=e.exact,n=e.children,a=e.to,c=e.color,o=e.logout,i=e.onClose;return e.menu?Object(r.jsx)(v.c,{color:c||o?"red.600":"",fontSize:"inherit",textTransform:"uppercase",as:s.b,exact:t,_activeLink:{color:"primary.700"},to:a,d:"block",w:"100%",children:n}):Object(r.jsx)(g.a,{display:"inline-block",as:"li",children:Object(r.jsx)(y.a,{onClick:i,bg:"transparent",size:"sm",outline:"none",textTransform:"uppercase",_hover:{bg:"transparent",color:"primary"},_focus:{outline:"none"},_active:{bg:"transparent"},activeClassName:"navbar--active",exact:t,to:a,as:s.b,children:n})})},S=(n(275),n(22)),I=n(474),E=n(475),_=n(190),k=n(191),R=n(192),G=n(491),q=n(30),N=n(5),T=n(430),z=n(484),P=n(465),A=n(466),U=function(e){var t=Object(T.b)(),n=t.colorMode,a=t.toggleColorMode;return Object(r.jsxs)(h.a,Object(N.a)(Object(N.a)({alignItems:"center"},e),{},{children:["light"===n?Object(r.jsx)(P.a,{}):Object(r.jsx)(A.a,{}),Object(r.jsx)(z.a,{ml:2,isChecked:"dark"===n,onChange:a,children:"Toggle"})]}))},F=n(120),M=function(e){var t=Object(a.useContext)(S.a).user,n=e.isOpen,c=e.onClose;return Object(r.jsx)(G.a,{isOpen:n,placement:"right",onClose:c,children:Object(r.jsx)(q.h,{children:Object(r.jsxs)(G.b,{children:[Object(r.jsx)(q.c,{}),t&&Object(r.jsx)(q.g,{children:Object(r.jsx)(F.a,{})}),Object(r.jsx)(q.b,{justifyItems:"start",children:Object(r.jsxs)(f.b,{children:[!t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(w,{onClose:c,exact:!0,to:"/",children:"Home"}),Object(r.jsx)(w,{onClose:c,exact:!0,to:"/auth/login",children:"Login"}),Object(r.jsx)(w,{onClose:c,exact:!0,to:"/auth/register",children:"Register"})]}),t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(w,{onClose:c,to:"/app",children:"Home"}),Object(r.jsx)(w,{onClose:c,exact:!0,to:"/profile",children:"Profile"}),Object(r.jsx)(C.a,{}),Object(r.jsx)(w,{color:"red.600",onClose:c,exact:!0,to:"/auth/logout",children:"Logout"})]}),Object(r.jsx)(C.a,{}),Object(r.jsx)(U,{})]})})]})})})},D=n(94),B=n(32),H=n(33),L=function(){var e=Object(a.useContext)(S.a).user,t=Object(a.useContext)(B.a),n=t.onCreatePostOpen,c=t.onCreateGroupOpen,o=t.onNotificationsOpen,l=Object(a.useContext)(H.a).notifications,j=Object(u.a)(),p=j.onOpen,b=j.onClose,d=j.isOpen,G=Object(r.jsxs)(f.a,{spacing:{md:20,sm:10},justifyContent:"space-between",mx:{lg:"2rem",sm:0},px:{xl:"4rem",lg:"4rem",md:"2rem",xs:".75rem"},py:4,boxShadow:"light",alignItems:"center",className:"navbar",children:[Object(r.jsx)(O.a,{className:"navbar__brand",fontSize:"2rem",as:s.b,to:"/",children:"Connected"}),Object(r.jsx)(M,{isOpen:d,onClose:b}),e&&Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(h.a,{mr:"auto",children:[Object(r.jsx)(D.a,{hide:{sm:!0,md:!0},children:Object(r.jsx)(x.a,{hasArrow:!0,label:"Add Post","aria-label":"New Post",children:Object(r.jsx)(m.a,{placeItems:"center",variant:"text",onClick:n,"aria-label":"new post",icon:Object(r.jsx)(_.a,{fill:"dodgerblue"})})})}),Object(r.jsx)(D.a,{hide:{sm:!0,md:!0},children:Object(r.jsx)(x.a,{hasArrow:!0,label:"Add Group","aria-label":"New Group",children:Object(r.jsx)(m.a,{onClick:c,variant:"text",mr:1,"aria-label":"new group",icon:Object(r.jsx)(k.a,{fill:"dodgerblue"})})})}),Object(r.jsx)(D.a,{hide:{sm:!0,md:!0},children:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(x.a,{hasArrow:!0,label:"Notifications","aria-label":"Notifications",children:Object(r.jsx)(m.a,{onClick:o,variant:"text","aria-label":"notification",pos:"relative",icon:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(R.a,{fill:"dodgerblue"}),l&&l.length>0&&Object(r.jsx)(g.b,{size:"8px",top:"4px",right:"7px",pos:"absolute",bg:"tomato"})]})})})})})]})}),e&&Object(r.jsx)(D.a,{hide:{sm:!0,md:!0},children:Object(r.jsxs)(f.a,{spacing:10,children:[Object(r.jsxs)(v.a,{children:[Object(r.jsx)(v.b,{_focus:{outline:"none"},as:y.a,variant:"text",rightIcon:Object(r.jsx)(I.a,{}),children:Object(r.jsx)(F.a,{})}),Object(r.jsx)(v.d,{children:Object(r.jsxs)(f.b,{children:[Object(r.jsx)(w,{menu:!0,to:"/app/public",children:"Home"}),Object(r.jsx)(w,{menu:!0,to:"/profile",children:"Profile"}),Object(r.jsx)(C.a,{}),Object(r.jsx)(w,{menu:!0,logout:!0,to:"/auth/logout",children:"Logout"})]})})]}),Object(r.jsx)(U,{})]})}),!e&&Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(f.a,{as:"nav",display:{sm:"none",md:"none",lg:"block",xl:"block"},spacing:"24px",children:[Object(r.jsx)(w,{exact:!0,to:"/",children:"Home"}),Object(r.jsx)(w,{exact:!0,to:"/auth/login",children:"Login"}),Object(r.jsx)(w,{exact:!0,to:"/auth/register",children:"Register"}),Object(r.jsx)(U,{display:{lg:"inline-block",sm:"none"}})]})}),Object(r.jsx)(m.a,{onClick:p,"aria-label":"Hamburger Menu",cursor:"pointer",variant:"text",_focus:{outline:"none"},icon:Object(r.jsx)(E.a,{w:7,h:7}),display:{sm:"block",md:"block",lg:"none",xl:"none"}})]});return i.a.createPortal(G,document.getElementById("navbar-wrapper"))},V=n(4),W=n(24),J=n(207),Y=n(160),Q=n(476),K=function(e){var t,n=e.notification,c=n.type,o=n.sender,i=n.group,s=Object(a.useContext)(B.a).onNotificationsOpen;return t="friendRequestAccepted"===c?"".concat(o.firstName," ").concat(o.lastName," accepted your friend request"):"friendRequestSent"===c?"".concat(o.firstName," ").concat(o.lastName," sent you a friend request"):"newGroupPost"===c?"".concat(o.firstName," ").concat(o.lastName," posted in ").concat(i.name):"joinGroupRequestSent"===c?"".concat(o.firstName," ").concat(o.lastName," requested to join ").concat(i.name):"you are part of ".concat(i.name,"!!"),Object(r.jsxs)(Y.a,{w:"max-content",pos:"absolute",bottom:"30px",minW:"500px",right:"30px",status:"info",variant:"solid",children:[Object(r.jsx)(Y.b,{}),Object(r.jsx)(Y.c,{children:t}),Object(r.jsx)(m.a,{onClick:s,colorScheme:"primary",ml:3,size:"sm","aria-label":"notifications-goto",icon:Object(r.jsx)(Q.a,{})})]})},X=c.a.lazy((function(){return n.e(14).then(n.bind(null,524))})),Z=c.a.lazy((function(){return n.e(12).then(n.bind(null,519))})),$=c.a.lazy((function(){return n.e(13).then(n.bind(null,520))})),ee=c.a.lazy((function(){return n.e(17).then(n.bind(null,509))})),te=c.a.lazy((function(){return n.e(18).then(n.bind(null,521))})),ne=c.a.lazy((function(){return Promise.all([n.e(10),n.e(19)]).then(n.bind(null,525))})),re=function(){var e=Object(a.useContext)(H.a).notifications,t=Object(a.useState)(null),n=Object(V.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){e&&e.length>0&&o(e[e.length-1])}),[e]),Object(a.useEffect)((function(){if(c){var e=setTimeout((function(){o(null)}),5e3);return function(){return clearTimeout(e)}}}),[c]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(a.Suspense,{fallback:Object(r.jsx)(J.default,{}),children:[Object(r.jsxs)(W.d,{children:[Object(r.jsx)(W.b,{path:"/",exact:!0,children:Object(r.jsx)(te,{})}),Object(r.jsx)(W.b,{exact:!0,path:"/auth/login",children:Object(r.jsx)(Z,{})}),Object(r.jsx)(W.b,{exact:!0,path:"/auth/register",children:Object(r.jsx)($,{})}),Object(r.jsx)(W.b,{exact:!0,path:"/auth/logout",children:Object(r.jsx)(ee,{})}),Object(r.jsx)(W.b,{exact:!0,path:"/profile",children:Object(r.jsx)(ne,{})}),Object(r.jsx)(W.b,{path:"/app",children:Object(r.jsx)(X,{})})]}),c&&Object(r.jsx)(K,{notification:e.reverse()[0]})]})})},ae=function(){var e=Object(a.useContext)(S.a).user;return i.a.createPortal(Object(r.jsx)(g.a,{position:"absolute",bottom:0,right:0,textAlign:"center",p:5,children:!e&&Object(r.jsx)(O.a,{fontSize:"1.05rem",textTransform:"capitalize",color:"GrayText",children:"Copyright by \xa9 Sreekar Venkata Nutulapati"})}),document.getElementById("footer-wrapper"))},ce=n(162),oe=n(479),ie=n(480),se=n(8),ue=n.n(se),le=n(17),je=n(487),pe=n(433),be=n(19),de=n.n(be),fe=n(477),Oe=n(478),he={container:{borderRadius:"4px",bg:"gray.800",p:5,pos:"relative"},closebtn:{color:"#fff",size:"sm",pos:"absolute",top:1,right:1},senderName:{fontSize:"1.1rem",color:"primary.500",textTransform:"capitalize",fontWeight:"bold"},iconbtn:{bg:"gray.700",_hover:{bg:"gray.700"},_active:{bg:"gray.700"},size:"sm"}},xe=function(e){var t=e.notification,n=Object(a.useContext)(H.a).removeNotification,c=Object(a.useContext)(S.a).updateUser,o=function(){var e=Object(le.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de()({method:"PATCH",url:"/api/v1/notifications/hide",data:{notificationId:t._id}});case 3:n(t._id),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(le.a)(ue.a.mark((function e(){var r,a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de()({url:"/api/v1/users/acceptFriendRequest",method:"PATCH",data:{friend:t.sender._id,notificationId:t._id}});case 3:r=e.sent,a=Object(N.a)({},r.data.user),c(a),n(t._id),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(le.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de()({url:"/api/v1/users/rejectFriendRequest",method:"PATCH",data:{friend:t.sender._id,notificationId:t._id}});case 3:n(t._id),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(g.a,Object(N.a)(Object(N.a)({},he.container),{},{children:["friendRequestAccepted"===t.type&&Object(r.jsx)(je.a,Object(N.a)({onClick:o},he.closebtn)),Object(r.jsxs)(f.a,{spacing:10,children:[Object(r.jsx)(pe.a,{size:"sm",src:t.sender.photo}),Object(r.jsx)(g.a,Object(N.a)(Object(N.a)({as:"span"},he.senderName),{},{children:t.sender.firstName})),Object(r.jsx)(g.a,{textAlign:"center",fontSize:"1.1rem",color:"#fff",children:"friendRequestSent"===t.type?"sent you a friend request":"accepted your friend request"}),"friendRequestSent"===t.type&&Object(r.jsx)(x.a,{placement:"top",label:"Accept Friend Request","aria-label":"Accept Friend Request tooltip",hasArrow:!0,children:Object(r.jsx)(m.a,Object(N.a)(Object(N.a)({onClick:i,color:"green.600"},he.iconbtn),{},{"aria-label":"accept friend request",icon:Object(r.jsx)(fe.a,{})}))}),"friendRequestSent"===t.type&&Object(r.jsx)(x.a,{onClick:s,placement:"top",label:"Reject Friend Request","aria-label":"Reject Friend Request tooltip",hasArrow:!0,children:Object(r.jsx)(m.a,Object(N.a)(Object(N.a)({color:"red.600"},he.iconbtn),{},{"aria-label":"reject friend request",icon:Object(r.jsx)(Oe.a,{})}))})]})]}))},me=function(e){var t=e.notification,n=Object(a.useContext)(H.a).removeNotification,c=Object(a.useContext)(S.a).user,o=function(){var e=Object(le.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de()({method:"PATCH",url:"/api/v1/notifications/hide",data:{notificationId:t._id}});case 3:n(t._id),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(le.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de()({url:"api/v1/groups/".concat(t.group._id,"/acceptGroupJoinRequest"),method:"PATCH",data:{newMember:t.sender._id}});case 3:o(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(le.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de()({url:"api/v1/groups/".concat(c._id,"/rejectGroupJoinRequest"),method:"PATCH",data:{friend:t.sender._id,notificationId:t._id}});case 3:o(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(g.a,Object(N.a)(Object(N.a)({},he.container),{},{children:["joinGroupRequestAccepted"===t.type&&Object(r.jsx)(je.a,Object(N.a)({},he.closebtn)),Object(r.jsxs)(f.a,{spacing:10,children:[Object(r.jsx)(pe.a,{size:"sm",src:t.sender.photo}),Object(r.jsx)(g.a,Object(N.a)(Object(N.a)({as:"span"},he.senderName),{},{children:t.sender.firstName})),Object(r.jsx)(g.a,{textAlign:"center",fontSize:"1.1rem",color:"#fff",children:"joinGroupRequestSent"===t.type?"wants to join ".concat(t.group.name):"you are part of ".concat(t.group.name,"!!")}),"joinGroupRequestSent"===t.type&&Object(r.jsx)(x.a,{placement:"top",label:"Accept Friend Request","aria-label":"Accept Friend Request tooltip",hasArrow:!0,children:Object(r.jsx)(m.a,Object(N.a)(Object(N.a)({onClick:i,color:"green.600"},he.iconbtn),{},{"aria-label":"accept friend request",icon:Object(r.jsx)(fe.a,{})}))}),"joinGroupRequestSent"===t.type&&Object(r.jsx)(x.a,{onClick:s,placement:"top",label:"Reject Group Request","aria-label":"Reject group Request tooltip",hasArrow:!0,children:Object(r.jsx)(m.a,Object(N.a)(Object(N.a)({color:"red.600"},he.iconbtn),{},{"aria-label":"reject group request",icon:Object(r.jsx)(Oe.a,{})}))})]})]}))},ge=n(236),ve=function(e){var t=e.notification,n=Object(W.g)(),c=Object(a.useContext)(B.a).onNotificationsClose,o=Object(a.useContext)(H.a).removeNotification,i=function(){var e=Object(le.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de()({method:"PATCH",url:"/api/v1/notifications/hide",data:{notificationId:t._id}});case 3:o(t._id),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(g.a,Object(N.a)(Object(N.a)({},he.container),{},{children:[Object(r.jsx)(je.a,Object(N.a)({onClick:i},he.closebtn)),Object(r.jsxs)(ge.a,{templateColumns:".5fr 1fr .25fr",spacing:4,justifyContent:"center",alignItems:"center",children:[Object(r.jsxs)(h.a,{alignItems:"center",children:[Object(r.jsx)(pe.a,{size:"sm",src:t.sender.photo}),Object(r.jsxs)(g.a,Object(N.a)(Object(N.a)({ml:3,alignSelf:"flex-end",as:"span"},he.senderName),{},{children:[t.sender.firstName,"\xa0"]}))]}),Object(r.jsxs)(O.a,{color:"#fff",fontSize:"1.1rem",alignSelf:"flex-end",children:["posted something in ",t.group.name]}),Object(r.jsx)(m.a,{onClick:function(){n.push({pathname:"/app/groups/".concat(t.group._id,"/").concat(t.group.slug),state:t.group._id}),c(),i()},justifySelf:"center",mr:3,size:"sm","aria-label":"post-goto",icon:Object(r.jsx)(Q.a,{})})]})]}))},ye=function(){var e=Object(a.useContext)(B.a),t=e.isNotificationsOpen,n=e.onNotificationsClose,c=Object(a.useContext)(H.a).notifications;return Object(r.jsxs)(q.a,{size:"full",scrollBehavior:"inside",isOpen:t,onClose:n,children:[Object(r.jsx)(q.h,{}),Object(r.jsxs)(q.d,{className:"hide-scrollbar",overflowY:"scroll",minHeight:"100vh",children:[Object(r.jsx)(q.g,{children:Object(r.jsx)(oe.a,{color:"primary.600",size:"lg",children:"Notifications"})}),Object(r.jsx)(q.c,{}),Object(r.jsx)(q.b,{children:Object(r.jsx)(ie.a,{columns:{sm:1,lg:2},spacing:8,children:c&&c.map((function(e){switch(e.type){case"newGroupPost":return Object(r.jsx)(ve,{notification:e},e._id);case"friendRequestSent":case"friendRequestAccepted":return Object(r.jsx)(xe,{notification:e},e._id);case"joinGroupRequestSent":case"joinGroupRequestAccepted":return Object(r.jsx)(me,{notification:e},e._id);default:return null}}))})})]})]})},Ce=n(35),we=n(65),Se=n(46),Ie=n(247),Ee=n(488),_e=n(492),ke=n(121),Re=n(122),Ge=n(123);function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Te=a.createElement("path",{d:"M18 3h-16c-0.553 0-1 0.447-1 1v12c0 0.552 0.447 1 1 1h16c0.553 0 1-0.448 1-1v-12c0-0.552-0.447-1-1-1zM13.25 6.5c0.69 0 1.25 0.56 1.25 1.25s-0.56 1.25-1.25 1.25-1.25-0.56-1.25-1.25 0.56-1.25 1.25-1.25zM4 14l3.314-7.619 3.769 6.102 3.231-1.605 1.686 3.122h-12z"});function ze(e,t){var n=e.title,r=e.titleId,c=Ne(e,["title","titleId"]);return a.createElement("svg",qe({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:20,height:20,viewBox:"0 0 20 20",ref:t,"aria-labelledby":r},c),void 0===n?a.createElement("title",{id:r},"image-inverted"):n?a.createElement("title",{id:r},n):null,Te)}var Pe=a.forwardRef(ze),Ae=(n.p,n(102)),Ue=n(103),Fe={group:"",content:""},Me=we.a().shape({group:we.c(),content:we.c().required("content cannot be empty")}),De=function(){var e=Object(ke.a)(),t=e.image,n=e.setImage,c=e.showImageCropper,o=e.closeImageCropper,i=e.imageSettings,s=e.setImageSettings,u=e.imageUrl,l=e.setCroppedImage,j=e.croppedImage,p=e.resetValues,b=Object(a.useContext)(B.a),d=b.onCreatePostClose,f=b.isCreatePostOpen,h=Object(a.useContext)(S.a).userGroups,x=Object(Ae.a)(),m=x.setAlert,v=x.isAlertOpen,C=x.alertDetails,w=Object(W.g)();Object(a.useEffect)((function(){f||p()}),[f,p]);var I=function(){var e=Object(le.a)(ue.a.mark((function e(n){var r,a,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("content",n.content),t&&i&&(r.append("photo",t),r.append("imageSettings",JSON.stringify(i))),n.group&&""!==n.group.trim()&&r.append("group",n.group),e.prev=4,e.next=7,de()({method:"POST",url:"/api/v1/posts",data:r});case 7:if(a=e.sent,d(),a.data.post.isPublic){e.next=13;break}return e.abrupt("return",w.push({pathname:"/app/groups/".concat(a.data.post.group._id,"/").concat(a.data.post.group.slug)}));case 13:return e.abrupt("return",w.push({pathname:"/app/public"}));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),c=e.t0.response.data.message||"Something went wrong",m("error",c);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[v&&Object(r.jsx)(Ue.a,{alertDetails:C}),t&&u&&Object(r.jsx)(Re.a,{showImageCropper:c,closeImageCropper:o,imageSettings:i,setImageSettings:s,photo:u,setCroppedImage:l}),Object(r.jsxs)(q.a,{size:"full",motionPreset:"slideInBottom",isOpen:f,scrollBehavior:"inside",onClose:d,children:[Object(r.jsx)(q.h,{}),Object(r.jsx)(q.d,{mb:0,className:"hide-scrollbar",overflowY:"scroll",minHeight:"100vh",children:Object(r.jsxs)(g.a,{m:{lg:"0 300px",md:"0 100px",sm:"0"},children:[Object(r.jsx)(q.c,{}),Object(r.jsx)(q.g,{children:Object(r.jsx)(oe.a,{color:"primary.700",py:5,children:"Create Post"})}),Object(r.jsx)(q.b,{children:Object(r.jsx)(Ce.c,{initialValues:Fe,validationSchema:Me,onSubmit:function(e){I(e)},children:function(){return Object(r.jsxs)(Ce.b,{autoComplete:"off",children:[Object(r.jsxs)(Se.a,{mb:5,children:[Object(r.jsx)(Ie.a,{children:"Select Group"}),Object(r.jsxs)(Ee.a,{name:"group",id:"group",as:Ce.a,component:"select",children:[Object(r.jsx)("option",{value:"",children:"Public"}),h&&h.map((function(e){return Object(r.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(r.jsx)(Ge.a,{placeholder:"Write here...",label:"Content",color:"gray.800",className:"placeholder",name:"content"}),Object(r.jsxs)(Se.a,{d:"flex",alignItems:"center",children:[Object(r.jsx)(y.a,{cursor:"pointer",as:"label",htmlFor:"image-upload",mr:10,leftIcon:Object(r.jsx)(_e.a,{as:Pe}),children:"Image"}),Object(r.jsx)("input",{onChange:function(e){return n(e.target.files[0])},type:"file",name:"image-upload",id:"image-upload",style:{display:"none"}}),Object(r.jsx)(O.a,{children:t&&t.name})]}),j&&Object(r.jsx)(g.a,{mt:4,boxSize:"200px",children:Object(r.jsx)("img",{src:j,alt:"Something"})}),Object(r.jsxs)(q.f,{children:[Object(r.jsx)(y.a,{type:"submit",colorScheme:"green",mr:4,variant:"solid",children:"Post"}),Object(r.jsx)(y.a,{onClick:d,colorScheme:"blue",mr:3,children:"Close"})]})]})}})})]})})]})]})},Be=n(163),He={name:"",description:""},Le=we.a().shape({name:we.c().required("Group name cannot be empty!!"),description:we.c()}),Ve=function(){var e=Object(ke.a)(),t=e.image,n=e.setImage,c=e.showImageCropper,o=e.closeImageCropper,i=e.imageSettings,s=e.setImageSettings,u=e.imageUrl,l=e.setCroppedImage,j=e.croppedImage,p=e.resetValues,b=Object(a.useContext)(B.a),d=b.isCreateGroupOpen,f=b.onCreateGroupClose,h=Object(a.useContext)(S.a).userCreateNewGroup,x=Object(W.g)(),m=Object(Ae.a)(),v=m.setAlert,C=m.isAlertOpen,w=m.alertDetails;Object(a.useEffect)((function(){d||p()}),[d,p]);var I=function(){var e=Object(le.a)(ue.a.mark((function e(n){var r,a,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("name",n.name),t&&i&&(r.append("photo",t),r.append("imageSettings",JSON.stringify(i))),n.description&&""!==n.description.trim()&&r.append("description",n.description),e.prev=4,e.next=7,de()({method:"POST",url:"/api/v1/groups",data:r});case 7:a=e.sent,h(a.data.group),x.push({pathname:"/app/groups/".concat(a.data.group._id,"/").concat(a.data.group.slug)}),f(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),c=e.t0.response.data.message||"Something went wrong",v("error",c);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[C&&Object(r.jsx)(Ue.a,{alertDetails:w}),t&&u&&Object(r.jsx)(Re.a,{showImageCropper:c,closeImageCropper:o,imageSettings:i,setImageSettings:s,photo:u,setCroppedImage:l}),Object(r.jsxs)(q.a,{size:"full",motionPreset:"slideInBottom",isOpen:d,scrollBehavior:"inside",onClose:f,children:[Object(r.jsx)(q.h,{}),Object(r.jsx)(q.d,{className:"hide-scrollbar",overflowY:"scroll",minHeight:"100vh",children:Object(r.jsxs)(g.a,{m:{lg:"0 300px",md:"0 100px",sm:"0"},children:[Object(r.jsx)(q.c,{}),Object(r.jsx)(q.g,{children:Object(r.jsx)(oe.a,{color:"primary.700",py:5,children:"Create Group"})}),Object(r.jsx)(q.b,{children:Object(r.jsx)(Ce.c,{initialValues:He,validationSchema:Le,onSubmit:function(e){I(e)},children:function(){return Object(r.jsxs)(Ce.b,{autoComplete:"off",children:[Object(r.jsx)(Be.a,{name:"name",label:"Group Name"}),Object(r.jsx)(Ge.a,{placeholder:"Write here...",label:"Group Description",name:"description",color:"gray.800",className:"placeholder",required:!1,bg:"secondary.200"}),Object(r.jsxs)(Se.a,{d:"flex",alignItems:"center",children:[Object(r.jsx)(y.a,{cursor:"pointer",as:"label",htmlFor:"image-upload",mr:10,leftIcon:Object(r.jsx)(_e.a,{as:Pe}),children:"Image"}),Object(r.jsx)("input",{onChange:function(e){return n(e.target.files[0])},type:"file",name:"image-upload",id:"image-upload",style:{display:"none"}}),Object(r.jsx)(O.a,{children:t&&t.name})]}),j&&Object(r.jsx)(g.a,{mt:4,boxSize:"200px",children:Object(r.jsx)("img",{src:j,alt:"Something"})}),Object(r.jsxs)(q.f,{children:[Object(r.jsx)(y.a,{type:"submit",colorScheme:"green",mr:4,variant:"solid",children:"Create Group"}),Object(r.jsx)(y.a,{onClick:f,colorScheme:"blue",mr:3,children:"Close"})]})]})}})})]})})]})]})},We=function(){var e=Object(u.a)(),t=e.isOpen,n=e.onClose;return Object(r.jsx)(s.a,{children:Object(r.jsx)(S.b,{children:Object(r.jsx)(H.b,{children:Object(r.jsx)(ce.b,{children:Object(r.jsx)(l.a,{theme:d,children:Object(r.jsxs)(B.b,{children:[Object(r.jsx)(ye,{isOpen:t,onClose:n}),Object(r.jsx)(De,{}),Object(r.jsx)(Ve,{}),Object(r.jsx)(L,{}),Object(r.jsx)(re,{}),Object(r.jsx)(ae,{})]})})})})})})},Je=n(481),Ye=Object(r.jsxs)(c.a.StrictMode,{children:[Object(r.jsx)(Je.a,{initialColorMode:"light"}),Object(r.jsx)(We,{})]});i.a.render(Ye,document.getElementById("root"))},94:function(e,t,n){"use strict";var r=n(1),a=n(137);n(0);t.a=function(e){var t=e.hide,n=e.children,c=e.w;return Object(r.jsx)(a.a,{w:c,display:{sm:t.sm?"none":"block",md:t.md?"none":"block",lg:t.lg?"none":"block",xl:t.xl?"none":"block"},children:n})}}},[[422,3,4]]]);
//# sourceMappingURL=main.d63421b1.chunk.js.map